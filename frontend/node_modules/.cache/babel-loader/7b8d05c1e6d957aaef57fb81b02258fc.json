{"ast":null,"code":"import React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    nonce,\n    onScriptLoadSuccess,\n    onScriptLoadError\n  } = options;\n  const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\n  const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\n  onScriptLoadSuccessRef.current = onScriptLoadSuccess;\n  const onScriptLoadErrorRef = useRef(onScriptLoadError);\n  onScriptLoadErrorRef.current = onScriptLoadError;\n  useEffect(() => {\n    const scriptTag = document.createElement('script');\n    scriptTag.src = 'https://accounts.google.com/gsi/client';\n    scriptTag.async = true;\n    scriptTag.defer = true;\n    scriptTag.nonce = nonce;\n\n    scriptTag.onload = () => {\n      var _a;\n\n      setScriptLoadedSuccessfully(true);\n      (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\n    };\n\n    scriptTag.onerror = () => {\n      var _a;\n\n      setScriptLoadedSuccessfully(false);\n      (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\n    };\n\n    document.body.appendChild(scriptTag);\n    return () => {\n      document.body.removeChild(scriptTag);\n    };\n  }, [nonce]);\n  return scriptLoadedSuccessfully;\n}\n\nconst GoogleOAuthContext = createContext(null);\n\nfunction GoogleOAuthProvider(_ref) {\n  let {\n    clientId,\n    nonce,\n    onScriptLoadSuccess,\n    onScriptLoadError,\n    children\n  } = _ref;\n  const scriptLoadedSuccessfully = useLoadGsiScript({\n    nonce,\n    onScriptLoadSuccess,\n    onScriptLoadError\n  });\n  const contextValue = useMemo(() => ({\n    clientId,\n    scriptLoadedSuccessfully\n  }), [clientId, scriptLoadedSuccessfully]);\n  return React.createElement(GoogleOAuthContext.Provider, {\n    value: contextValue\n  }, children);\n}\n\nfunction useGoogleOAuth() {\n  const context = useContext(GoogleOAuthContext);\n\n  if (!context) {\n    throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\n  }\n\n  return context;\n}\n\nfunction extractClientId(credentialResponse) {\n  var _a;\n\n  const clientId = (_a = credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.clientId) !== null && _a !== void 0 ? _a : credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.client_id;\n  return clientId;\n}\n\nconst containerHeightMap = {\n  large: 40,\n  medium: 32,\n  small: 20\n};\n\nfunction GoogleLogin(_ref2) {\n  let {\n    onSuccess,\n    onError,\n    useOneTap,\n    promptMomentNotification,\n    type = 'standard',\n    theme = 'outline',\n    size = 'large',\n    text,\n    shape,\n    logo_alignment,\n    width,\n    locale,\n    click_listener,\n    containerProps,\n    ...props\n  } = _ref2;\n  const btnContainerRef = useRef(null);\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  const promptMomentNotificationRef = useRef(promptMomentNotification);\n  promptMomentNotificationRef.current = promptMomentNotification;\n  useEffect(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n    if (!scriptLoadedSuccessfully) return;\n    (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.initialize({\n      client_id: clientId,\n      callback: credentialResponse => {\n        var _a;\n\n        if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\n          return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\n        }\n\n        const {\n          credential,\n          select_by\n        } = credentialResponse;\n        onSuccessRef.current({\n          credential,\n          clientId: extractClientId(credentialResponse),\n          select_by\n        });\n      },\n      ...props\n    });\n    (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.renderButton(btnContainerRef.current, {\n      type,\n      theme,\n      size,\n      text,\n      shape,\n      logo_alignment,\n      width,\n      locale,\n      click_listener\n    });\n    if (useOneTap) (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\n    return () => {\n      var _a, _b, _c;\n\n      if (useOneTap) (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientId, scriptLoadedSuccessfully, useOneTap, type, theme, size, text, shape, logo_alignment, width, locale]);\n  return React.createElement(\"div\", { ...containerProps,\n    ref: btnContainerRef,\n    style: {\n      height: containerHeightMap[size],\n      ...(containerProps === null || containerProps === void 0 ? void 0 : containerProps.style)\n    }\n  });\n}\n\nfunction googleLogout() {\n  var _a, _b, _c;\n\n  (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.disableAutoSelect();\n}\n/* eslint-disable import/export */\n\n\nfunction useGoogleLogin(_ref3) {\n  let {\n    flow = 'implicit',\n    scope = '',\n    onSuccess,\n    onError,\n    onNonOAuthError,\n    overrideScope,\n    state,\n    ...props\n  } = _ref3;\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const clientRef = useRef();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  const onNonOAuthErrorRef = useRef(onNonOAuthError);\n  onNonOAuthErrorRef.current = onNonOAuthError;\n  useEffect(() => {\n    var _a;\n\n    if (!scriptLoadedSuccessfully) return;\n    const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\n    const client = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts.oauth2[clientMethod]({\n      client_id: clientId,\n      scope: overrideScope ? scope : `openid profile email ${scope}`,\n      callback: response => {\n        var _a, _b;\n\n        if (response.error) return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\n        (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\n      },\n      error_callback: nonOAuthError => {\n        var _a;\n\n        (_a = onNonOAuthErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onNonOAuthErrorRef, nonOAuthError);\n      },\n      state,\n      ...props\n    });\n    clientRef.current = client; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientId, scriptLoadedSuccessfully, flow, scope, state]);\n  const loginImplicitFlow = useCallback(overrideConfig => {\n    var _a;\n\n    return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestAccessToken(overrideConfig);\n  }, []);\n  const loginAuthCodeFlow = useCallback(() => {\n    var _a;\n\n    return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestCode();\n  }, []);\n  return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\n}\n\nfunction useGoogleOneTapLogin(_ref4) {\n  let {\n    onSuccess,\n    onError,\n    promptMomentNotification,\n    cancel_on_tap_outside,\n    hosted_domain,\n    disabled\n  } = _ref4;\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  const promptMomentNotificationRef = useRef(promptMomentNotification);\n  promptMomentNotificationRef.current = promptMomentNotification;\n  useEffect(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n    if (!scriptLoadedSuccessfully) return;\n\n    if (disabled) {\n      (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\n      return;\n    }\n\n    (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.initialize({\n      client_id: clientId,\n      callback: credentialResponse => {\n        var _a;\n\n        if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\n          return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\n        }\n\n        const {\n          credential,\n          select_by\n        } = credentialResponse;\n        onSuccessRef.current({\n          credential,\n          clientId: extractClientId(credentialResponse),\n          select_by\n        });\n      },\n      hosted_domain,\n      cancel_on_tap_outside\n    });\n    (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\n    return () => {\n      var _a, _b, _c;\n\n      (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\n    };\n  }, [clientId, scriptLoadedSuccessfully, cancel_on_tap_outside, hosted_domain, disabled]);\n}\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\n\n\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope) {\n  var _a, _b, _c;\n\n  if (!(window === null || window === void 0 ? void 0 : window.google)) return false;\n\n  for (var _len = arguments.length, restScopes = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    restScopes[_key - 2] = arguments[_key];\n  }\n\n  return ((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes)) || false;\n}\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\n\n\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope) {\n  var _a, _b, _c;\n\n  if (!(window === null || window === void 0 ? void 0 : window.google)) return false;\n\n  for (var _len2 = arguments.length, restScopes = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    restScopes[_key2 - 2] = arguments[_key2];\n  }\n\n  return ((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes)) || false;\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOneTapLogin };","map":{"version":3,"sources":["/Users/jakemartin/Documents/table-scanner-fullstack/frontend/node_modules/@react-oauth/google/dist/index.esm.js"],"names":["React","useState","useRef","useEffect","createContext","useMemo","useContext","useCallback","useLoadGsiScript","options","nonce","onScriptLoadSuccess","onScriptLoadError","scriptLoadedSuccessfully","setScriptLoadedSuccessfully","onScriptLoadSuccessRef","current","onScriptLoadErrorRef","scriptTag","document","createElement","src","async","defer","onload","_a","call","onerror","body","appendChild","removeChild","GoogleOAuthContext","GoogleOAuthProvider","clientId","children","contextValue","Provider","value","useGoogleOAuth","context","Error","extractClientId","credentialResponse","client_id","containerHeightMap","large","medium","small","GoogleLogin","onSuccess","onError","useOneTap","promptMomentNotification","type","theme","size","text","shape","logo_alignment","width","locale","click_listener","containerProps","props","btnContainerRef","onSuccessRef","onErrorRef","promptMomentNotificationRef","_b","_c","_d","_e","_f","_g","_h","_j","window","google","accounts","id","initialize","callback","credential","select_by","renderButton","prompt","cancel","ref","style","height","googleLogout","disableAutoSelect","useGoogleLogin","flow","scope","onNonOAuthError","overrideScope","state","clientRef","onNonOAuthErrorRef","clientMethod","client","oauth2","response","error","error_callback","nonOAuthError","loginImplicitFlow","overrideConfig","requestAccessToken","loginAuthCodeFlow","requestCode","useGoogleOneTapLogin","cancel_on_tap_outside","hosted_domain","disabled","hasGrantedAllScopesGoogle","tokenResponse","firstScope","restScopes","hasGrantedAllScopes","hasGrantedAnyScopeGoogle","hasGrantedAnyScope"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\r\n    const { nonce, onScriptLoadSuccess, onScriptLoadError } = options;\r\n    const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\r\n    const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\r\n    onScriptLoadSuccessRef.current = onScriptLoadSuccess;\r\n    const onScriptLoadErrorRef = useRef(onScriptLoadError);\r\n    onScriptLoadErrorRef.current = onScriptLoadError;\r\n    useEffect(() => {\r\n        const scriptTag = document.createElement('script');\r\n        scriptTag.src = 'https://accounts.google.com/gsi/client';\r\n        scriptTag.async = true;\r\n        scriptTag.defer = true;\r\n        scriptTag.nonce = nonce;\r\n        scriptTag.onload = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(true);\r\n            (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\r\n        };\r\n        scriptTag.onerror = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(false);\r\n            (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\r\n        };\r\n        document.body.appendChild(scriptTag);\r\n        return () => {\r\n            document.body.removeChild(scriptTag);\r\n        };\r\n    }, [nonce]);\r\n    return scriptLoadedSuccessfully;\r\n}\n\nconst GoogleOAuthContext = createContext(null);\r\nfunction GoogleOAuthProvider({ clientId, nonce, onScriptLoadSuccess, onScriptLoadError, children, }) {\r\n    const scriptLoadedSuccessfully = useLoadGsiScript({\r\n        nonce,\r\n        onScriptLoadSuccess,\r\n        onScriptLoadError,\r\n    });\r\n    const contextValue = useMemo(() => ({\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n    }), [clientId, scriptLoadedSuccessfully]);\r\n    return (React.createElement(GoogleOAuthContext.Provider, { value: contextValue }, children));\r\n}\r\nfunction useGoogleOAuth() {\r\n    const context = useContext(GoogleOAuthContext);\r\n    if (!context) {\r\n        throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\r\n    }\r\n    return context;\r\n}\n\nfunction extractClientId(credentialResponse) {\r\n    var _a;\r\n    const clientId = (_a = credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.clientId) !== null && _a !== void 0 ? _a : credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.client_id;\r\n    return clientId;\r\n}\n\nconst containerHeightMap = { large: 40, medium: 32, small: 20 };\r\nfunction GoogleLogin({ onSuccess, onError, useOneTap, promptMomentNotification, type = 'standard', theme = 'outline', size = 'large', text, shape, logo_alignment, width, locale, click_listener, containerProps, ...props }) {\r\n    const btnContainerRef = useRef(null);\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            ...props,\r\n        });\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.renderButton(btnContainerRef.current, {\r\n            type,\r\n            theme,\r\n            size,\r\n            text,\r\n            shape,\r\n            logo_alignment,\r\n            width,\r\n            locale,\r\n            click_listener,\r\n        });\r\n        if (useOneTap)\r\n            (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            if (useOneTap)\r\n                (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        useOneTap,\r\n        type,\r\n        theme,\r\n        size,\r\n        text,\r\n        shape,\r\n        logo_alignment,\r\n        width,\r\n        locale,\r\n    ]);\r\n    return (React.createElement(\"div\", { ...containerProps, ref: btnContainerRef, style: { height: containerHeightMap[size], ...containerProps === null || containerProps === void 0 ? void 0 : containerProps.style } }));\r\n}\n\nfunction googleLogout() {\r\n    var _a, _b, _c;\r\n    (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.disableAutoSelect();\r\n}\n\n/* eslint-disable import/export */\r\nfunction useGoogleLogin({ flow = 'implicit', scope = '', onSuccess, onError, onNonOAuthError, overrideScope, state, ...props }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const clientRef = useRef();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const onNonOAuthErrorRef = useRef(onNonOAuthError);\r\n    onNonOAuthErrorRef.current = onNonOAuthError;\r\n    useEffect(() => {\r\n        var _a;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\r\n        const client = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts.oauth2[clientMethod]({\r\n            client_id: clientId,\r\n            scope: overrideScope ? scope : `openid profile email ${scope}`,\r\n            callback: (response) => {\r\n                var _a, _b;\r\n                if (response.error)\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\r\n                (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\r\n            },\r\n            error_callback: (nonOAuthError) => {\r\n                var _a;\r\n                (_a = onNonOAuthErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onNonOAuthErrorRef, nonOAuthError);\r\n            },\r\n            state,\r\n            ...props,\r\n        });\r\n        clientRef.current = client;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [clientId, scriptLoadedSuccessfully, flow, scope, state]);\r\n    const loginImplicitFlow = useCallback((overrideConfig) => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestAccessToken(overrideConfig); }, []);\r\n    const loginAuthCodeFlow = useCallback(() => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestCode(); }, []);\r\n    return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\r\n}\n\nfunction useGoogleOneTapLogin({ onSuccess, onError, promptMomentNotification, cancel_on_tap_outside, hosted_domain, disabled, }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        if (disabled) {\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n            return;\r\n        }\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            hosted_domain,\r\n            cancel_on_tap_outside,\r\n        });\r\n        (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        cancel_on_tap_outside,\r\n        hosted_domain,\r\n        disabled,\r\n    ]);\r\n}\n\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\r\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\r\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOneTapLogin };\n"]},"metadata":{},"sourceType":"module"}