{"ast":null,"code":"var _jsxFileName = \"/Users/jakemartin/Documents/table-scanner-fullstack/frontend/src/components/App.js\";\nimport React from 'react';\nimport './App.css';\nimport '../index.css';\nimport ReactCursorPosition from 'react-cursor-position';\nimport GridLayout from 'react-grid-layout';\nimport Toggle from 'react-toggle';\nimport NumericInput from 'react-numeric-input';\nimport Photo from './Photo.js';\nimport axios from 'axios';\nimport { WidgetLoader, Widget } from 'react-cloudinary-upload-widget';\nimport FileUploader from \"./fileUploader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst backendUrl = 'http://localhost:8000';\n\nfunction downloadCsv(csvString) {\n  // Convert the CSV string to a Blob\n  const blob = new Blob([csvString], {\n    type: \"text/csv;charset=utf-8;\"\n  }); // Create a URL for the Blob\n\n  const url = URL.createObjectURL(blob); // Create a temporary <a> element to initiate the download\n\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.setAttribute(\"download\", \"data.csv\"); // Append the <a> element to the DOM\n\n  document.body.appendChild(link); // Initiate the download\n\n  link.click(); // Remove the <a> element from the DOM\n\n  document.body.removeChild(link); // Release the URL object\n\n  URL.revokeObjectURL(url);\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numCols: 2,\n      numRows: 3,\n      useCustomDims: false,\n      tNumerator: -1,\n      tDenominator: 1000,\n      startSelector: 0,\n      endSelector: 0,\n      startSelLastChange: false,\n      useColumns: false,\n      tRows: [1 / 3, 2 / 3],\n      tCols: [1 / 2],\n      vertices: [],\n      selectedFile: null\n    }; // start of methods\n\n    this.handleColChange = this.handleColChange.bind(this);\n    this.handleRowChange = this.handleRowChange.bind(this);\n    this.handleDimChange = this.handleDimChange.bind(this);\n    this.handletNumChange = this.handletNumChange.bind(this);\n    this.handletDomChange = this.handletDomChange.bind(this);\n    this.handleStartSelChange = this.handleStartSelChange.bind(this);\n    this.handleEndSelChange = this.handleEndSelChange.bind(this);\n    this.handleDirectionChange = this.handleDirectionChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleDatasetSubmit = this.handleDatasetSubmit.bind(this);\n    this.deleteRows = this.deleteRows.bind(this);\n    this.deleteRows = this.deleteRows.bind(this);\n    this.appendVertex = this.appendVertex.bind(this); // end of methods\n    // tRows and tCols hold the t interpolation value from the start of the line for that column/ row.\n    // the first value of the list is the bottom/ right edge of the first row/ column.\n\n    this.tCols = [];\n    this.tRows = [];\n    this.photo = null;\n  }\n\n  setUniformTCols() {\n    let ret = [];\n\n    for (let i = 1; i < this.state.numCols; i++) {\n      ret.push(i / this.state.numCols);\n    }\n\n    this.tCols = ret;\n  }\n\n  setUniformTRows() {\n    let ret = [];\n\n    for (let i = 1; i < this.state.numRows; i++) {\n      ret.push(i / this.state.numRows);\n    }\n\n    this.tRows = ret;\n  }\n\n  ensureSelectorsValid() {\n    if (this.state.startSelector >= this.state.endSelector) {\n      this.setState({\n        endSelector: this.state.startSelector\n      }, () => {\n        if (this.state.useColumns) {\n          this.ensureColumnsValid();\n        } else {\n          this.ensureRowsValid();\n        }\n      });\n    } else {\n      if (this.state.useColumns) {\n        this.ensureColumnsValid();\n      } else {\n        this.ensureRowsValid();\n      }\n    }\n  }\n\n  ensureColumnsValid() {\n    let newStartSel = -1;\n    let newEndSel = -1;\n    let newTNumerator;\n\n    if (this.state.startSelector >= this.state.numCols) {\n      newStartSel = this.state.numCols - 1;\n    }\n\n    if (this.state.startSelector <= 0) {\n      newStartSel = 0;\n    }\n\n    if (this.state.endSelector >= this.state.numCols) {\n      newEndSel = this.state.numCols - 1;\n    }\n\n    if (this.state.endSelector <= 0) {\n      newEndSel = 0;\n    }\n\n    if (this.state.startSelector > this.state.endSelector) {\n      newEndSel = this.state.startSelector;\n    }\n\n    if (newStartSel === -1) {\n      newStartSel = this.state.startSelector;\n    }\n\n    if (newEndSel === -1) {\n      newEndSel = this.state.endSelector;\n    }\n\n    if (this.state.startSelector === 0) {\n      newTNumerator = -1;\n    } else {\n      newTNumerator = this.tCols[newStartSel - 1] * this.state.tDenominator;\n    }\n\n    this.setState({\n      startSelector: newStartSel,\n      endSelector: newEndSel,\n      tNumerator: newTNumerator\n    });\n  }\n\n  ensureRowsValid() {\n    let newStartSel = -1;\n    let newEndSel = -1;\n    let newTNumerator;\n\n    if (this.state.startSelector >= this.state.numRows) {\n      newStartSel = this.state.numRows - 1;\n    }\n\n    if (this.state.startSelector <= 0) {\n      newStartSel = 0;\n    }\n\n    if (this.state.endSelector >= this.state.numRows) {\n      newEndSel = this.state.numRows - 1;\n    }\n\n    if (this.state.endSelector <= 0) {\n      newEndSel = 0;\n    }\n\n    if (this.state.startSelector > this.state.endSelector) {\n      newEndSel = this.state.startSelector;\n    }\n\n    if (newStartSel === -1) {\n      newStartSel = this.state.startSelector;\n    }\n\n    if (newEndSel === -1) {\n      newEndSel = this.state.endSelector;\n    }\n\n    if (this.state.startSelector === 0) {\n      newTNumerator = -1;\n    } else {\n      newTNumerator = this.tRows[newStartSel - 1] * this.state.tDenominator;\n    }\n\n    this.setState({\n      startSelector: newStartSel,\n      endSelector: newEndSel,\n      tNumerator: newTNumerator\n    });\n  }\n\n  handleColChange(event) {\n    if (event < 0) {\n      this.setState({\n        numCols: 0\n      });\n    }\n\n    this.setState({\n      numCols: event\n    });\n    let ret = [];\n\n    for (let i = 1; i < this.state.numCols; i++) {\n      ret.push(i / this.state.numCols);\n    }\n\n    this.setState({\n      tCols: ret,\n      numCols: event\n    });\n  }\n\n  handleRowChange(event) {\n    if (event < 0) {\n      this.setState({\n        numRows: 0\n      });\n    }\n\n    let ret = [];\n\n    for (let i = 1; i < this.state.numRows; i++) {\n      ret.push(i / this.state.numRows);\n    }\n\n    this.setState({\n      tRows: ret,\n      numRows: event\n    });\n  }\n\n  handleDimChange() {\n    if (this.state.useCustomDims) {\n      this.setState({\n        useCustomDims: false\n      });\n    } else {\n      this.setState({\n        useCustomDims: true\n      });\n    }\n  }\n\n  handletNumChange(event) {\n    if (this.state.useCustomDims) {\n      let ret;\n      let diff;\n\n      if (this.state.useColumns) {\n        ret = this.state.tCols;\n        diff = event / this.state.tDenominator - this.state.tCols[this.state.startSelector - 1];\n\n        for (let i = this.state.startSelector; i <= this.state.endSelector; i++) {\n          ret[i - 1] += diff;\n        }\n\n        this.setState({\n          tNumerator: event,\n          tCols: ret\n        }, () => {\n          this.ensureSelectorsValid();\n        });\n      } else {\n        ret = this.state.tRows;\n        diff = event / this.state.tDenominator - this.state.tRows[this.state.startSelector - 1];\n\n        for (let i = this.state.startSelector; i <= this.state.endSelector; i++) {\n          ret[i - 1] += diff;\n        }\n\n        this.setState({\n          tNumerator: event,\n          tRows: ret\n        }, () => {\n          this.ensureSelectorsValid();\n        });\n      }\n\n      ;\n    }\n\n    ;\n  }\n\n  handletDomChange(event) {\n    var newtNum = this.state.tNumerator / this.state.tDenominator * event;\n    this.setState({\n      tDenominator: event,\n      tNumerator: newtNum\n    });\n    this.ensureSelectorsValid();\n  }\n\n  handleStartSelChange(event) {\n    this.setState({\n      startSelector: event\n    }, () => {\n      this.ensureSelectorsValid();\n    });\n  }\n\n  handleEndSelChange(event) {\n    this.setState({\n      endSelector: event\n    }, () => {\n      this.ensureSelectorsValid();\n    });\n  }\n\n  deleteRows() {\n    var numLines = this.state.endSelector - this.state.startSelector + 1;\n    var lst;\n\n    if (this.state.useColumns) {\n      lst = this.state.tCols;\n      var currNumCols = this.state.numCols;\n      lst.splice(this.state.startSelector - 1, numLines);\n      this.setState({\n        tCols: lst,\n        numCols: currNumCols - numLines,\n        endSelector: this.state.startSelector\n      }, () => {\n        this.ensureSelectorsValid();\n      });\n    } else {\n      lst = this.state.tRows;\n      var currNumRows = this.state.numRows;\n      lst.splice(this.state.startSelector - 1, numLines);\n      this.setState({\n        tRows: lst,\n        numRows: currNumRows - numLines,\n        endSelector: this.state.startSelector\n      }, () => {\n        this.ensureSelectorsValid();\n      });\n    }\n  }\n\n  handleDirectionChange() {\n    this.setState({\n      useColumns: !this.state.useColumns,\n      tNumerator: this.state.tRows[this.state.startSelector - 1] * this.state.tDenominator\n    }, () => {\n      this.ensureSelectorsValid();\n    });\n  }\n\n  handleFileChange(event) {\n    console.log(\"lets gooo func up\");\n    this.setState({\n      selectedFile: event\n    });\n  }\n\n  async handleDatasetSubmit() {\n    // Create an object of formData\n    let reader = await new FileReader();\n    let formData = new FormData();\n    formData.append(\"selectedFile\", this.state.selectedFile, this.state.selectedFile.name);\n    formData.append(\"numCols\", this.state.numCols);\n    formData.append(\"numRows\", this.state.numRows);\n    formData.append(\"tRows\", this.state.tRows);\n    formData.append(\"tCols\", this.state.tCols);\n    formData.append(\"vertices\", this.state.vertices);\n    formData.append(\"username\", this.state.username);\n    axios.post(backendUrl, formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n    console.log(formData);\n    const response = await axios.post(`${backendUrl}`, formData);\n    console.log(response);\n    downloadCsv(response.data.result);\n  }\n\n  appendVertex(vertex) {\n    let newVertices = this.state.vertices;\n    newVertices.push(vertex);\n    this.setState({\n      vertices: newVertices\n    });\n  }\n\n  render() {\n    //ensuring that they are the same at the start of the loop\n    const layout = [{\n      i: \"photo\",\n      x: 0,\n      y: 0,\n      w: 1,\n      h: 5,\n      static: true\n    }, {\n      i: \"title\",\n      x: 1,\n      y: 0,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"cols\",\n      x: 1,\n      y: 1,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"rows\",\n      x: 1,\n      y: 2,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"gridDimToggle\",\n      x: 1,\n      y: 3,\n      w: 1,\n      h: 3,\n      static: true\n    }, {\n      i: \"tValDisplay\",\n      x: 1,\n      y: 6,\n      w: 1,\n      h: 3,\n      static: true\n    }, {\n      i: \"colOrRow\",\n      x: 1,\n      y: 9,\n      w: 1,\n      h: 3,\n      static: true\n    }, {\n      i: \"descriptor\",\n      x: 1,\n      y: 12,\n      w: 1,\n      h: 2,\n      static: true\n    }, {\n      i: \"startSelector\",\n      x: 1,\n      y: 14,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"endSelector\",\n      x: 1,\n      y: 15,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"tModifier\",\n      x: 1,\n      y: 16,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"rowDeleteButton\",\n      x: 1,\n      y: 17,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"fileChoiceButton\",\n      x: 1,\n      y: 18,\n      w: 1,\n      h: 1,\n      static: true\n    }, {\n      i: \"fileSubmitButton\",\n      x: 1,\n      y: 20,\n      w: 1,\n      h: 1,\n      static: true\n    }];\n\n    if (!this.state.useCustomDims) {\n      this.setUniformTCols();\n      this.setUniformTRows();\n    } else {\n      this.tRows = this.state.tRows;\n      this.tCols = this.state.tCols;\n    }\n\n    console.log(this.state.selectedFile);\n    this.photo = /*#__PURE__*/_jsxDEV(Photo, {\n      numCols: this.state.numCols,\n      numRows: this.state.numRows,\n      tCols: this.tCols,\n      tRows: this.tRows,\n      startSelector: this.state.startSelector,\n      endSelector: this.state.endSelector,\n      useColumns: this.state.useColumns,\n      selectedPhoto: this.state.selectedFile,\n      vertexChange: this.appendVertex\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 18\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"article\", {\n      children: /*#__PURE__*/_jsxDEV(GridLayout, {\n        className: \"layout\",\n        layout: layout,\n        cols: 2,\n        rowHeight: 30,\n        width: 2300,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ReactCursorPosition, {\n            children: this.photo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 11\n          }, this)\n        }, \"photo\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Table Scanner -> Super Fun\"\n        }, \"title\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"# Columns:\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.numCols,\n              step: 1,\n              onChange: this.handleColChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 11\n          }, this)\n        }, \"cols\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"# Rows:\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.numRows,\n              step: 1,\n              onChange: this.handleRowChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 11\n          }, this)\n        }, \"rows\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Toggle, {\n            id: \"dimToggle\",\n            defaultChecked: this.state.useCustomDims,\n            onChange: this.handleDimChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"dimToggle\",\n            children: \"Use Custom Grid Dimensions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)]\n        }, \"gridDimToggle\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Column t values:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 29\n          }, this), JSON.stringify(this.tCols.map(x => x.toPrecision(3))), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 68\n          }, this), \"Row t values:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 26\n          }, this), JSON.stringify(this.tRows.map(x => x.toPrecision(3)))]\n        }, \"tValDisplay\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Toggle, {\n            id: \"colToggle\",\n            defaultChecked: this.state.useColumns,\n            onChange: this.handleDirectionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"colToggle\",\n            children: \"Move Column/ Columns (otherwise moving rows)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, \"colOrRow\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Row/ Column Numbers start from either top\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 13\n            }, this), \"or left not including the outside boundaries.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 13\n            }, this), \"(first line inside is 1)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 11\n          }, this)\n        }, \"descriptor\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Row/ Column Number Min:\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.startSelector,\n              step: 1,\n              onChange: this.handleStartSelChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 11\n          }, this)\n        }, \"startSelector\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Row/ Column Number Max:\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.endSelector,\n              step: 1,\n              onChange: this.handleEndSelChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 11\n          }, this)\n        }, \"endSelector\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"t =\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.tNumerator,\n              step: 1,\n              onChange: this.handletNumChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 13\n            }, this), \"/\", /*#__PURE__*/_jsxDEV(NumericInput, {\n              precision: 0,\n              value: this.state.tDenominator,\n              step: 1,\n              onChange: this.handletDomChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 11\n          }, this)\n        }, \"tModifier\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.deleteRows,\n              children: \"Delete Selected Rows\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 11\n          }, this)\n        }, \"rowDeleteButton\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(FileUploader, {\n              component: this\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 11\n          }, this)\n        }, \"fileChoiceButton\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.handleDatasetSubmit,\n            children: \"Submit and Download Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 11\n          }, this)\n        }, \"fileSubmitButton\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jakemartin/Documents/table-scanner-fullstack/frontend/src/components/App.js"],"names":["React","ReactCursorPosition","GridLayout","Toggle","NumericInput","Photo","axios","WidgetLoader","Widget","FileUploader","backendUrl","downloadCsv","csvString","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","App","Component","constructor","props","state","numCols","numRows","useCustomDims","tNumerator","tDenominator","startSelector","endSelector","startSelLastChange","useColumns","tRows","tCols","vertices","selectedFile","handleColChange","bind","handleRowChange","handleDimChange","handletNumChange","handletDomChange","handleStartSelChange","handleEndSelChange","handleDirectionChange","handleFileChange","handleDatasetSubmit","deleteRows","appendVertex","photo","setUniformTCols","ret","i","push","setUniformTRows","ensureSelectorsValid","setState","ensureColumnsValid","ensureRowsValid","newStartSel","newEndSel","newTNumerator","event","diff","newtNum","numLines","lst","currNumCols","splice","currNumRows","console","log","reader","FileReader","formData","FormData","append","name","username","post","headers","response","data","result","vertex","newVertices","render","layout","x","y","w","h","static","JSON","stringify","map","toPrecision"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport '../index.css';\nimport ReactCursorPosition from 'react-cursor-position';\nimport GridLayout from 'react-grid-layout';\nimport Toggle from 'react-toggle';\nimport NumericInput from 'react-numeric-input';\nimport Photo from './Photo.js';\nimport axios from 'axios';\nimport { WidgetLoader, Widget } from 'react-cloudinary-upload-widget';\nimport FileUploader from \"./fileUploader\";\n\nconst backendUrl = 'http://localhost:8000';\n\nfunction downloadCsv(csvString) {\n  // Convert the CSV string to a Blob\n  const blob = new Blob([csvString], { type: \"text/csv;charset=utf-8;\" });\n\n  // Create a URL for the Blob\n  const url = URL.createObjectURL(blob);\n\n  // Create a temporary <a> element to initiate the download\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.setAttribute(\"download\", \"data.csv\");\n\n  // Append the <a> element to the DOM\n  document.body.appendChild(link);\n\n  // Initiate the download\n  link.click();\n\n  // Remove the <a> element from the DOM\n  document.body.removeChild(link);\n\n  // Release the URL object\n  URL.revokeObjectURL(url);\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numCols: 2,\n      numRows: 3,\n      useCustomDims: false,\n      tNumerator: -1,\n      tDenominator: 1000,\n      startSelector: 0,\n      endSelector: 0,\n      startSelLastChange: false,\n      useColumns: false,\n      tRows: [1/3, 2/3],\n      tCols: [1/2],\n      vertices: [],\n      selectedFile: null\n    };\n\n    // start of methods\n\n    this.handleColChange = this.handleColChange.bind(this);\n    this.handleRowChange = this.handleRowChange.bind(this);\n    this.handleDimChange = this.handleDimChange.bind(this);\n    this.handletNumChange = this.handletNumChange.bind(this);\n    this.handletDomChange = this.handletDomChange.bind(this);\n    this.handleStartSelChange = this.handleStartSelChange.bind(this);\n    this.handleEndSelChange = this.handleEndSelChange.bind(this);\n    this.handleDirectionChange = this.handleDirectionChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleDatasetSubmit = this.handleDatasetSubmit.bind(this);\n    this.deleteRows = this.deleteRows.bind(this);\n    this.deleteRows = this.deleteRows.bind(this);\n    this.appendVertex = this.appendVertex.bind(this);\n\n    // end of methods\n    \n\n\n    // tRows and tCols hold the t interpolation value from the start of the line for that column/ row.\n    // the first value of the list is the bottom/ right edge of the first row/ column.\n    this.tCols = [];\n    this.tRows = [];\n    this.photo = null\n  }\n  \n  setUniformTCols() {\n    let ret = [];\n    for (let i = 1; i < this.state.numCols; i++) {\n      ret.push(i/this.state.numCols);\n    }\n    this.tCols = ret;\n  }\n\n  setUniformTRows() {\n    let ret = [];\n    for (let i = 1; i < this.state.numRows; i++) {\n      ret.push(i/this.state.numRows);\n    }\n    this.tRows = ret;\n  }\n\n  ensureSelectorsValid() {\n    if (this.state.startSelector >= this.state.endSelector) {\n      this.setState({endSelector: this.state.startSelector}, () => {\n        if (this.state.useColumns) {\n          this.ensureColumnsValid();\n        } else {\n          this.ensureRowsValid();\n        }\n      });\n    } else {\n      if (this.state.useColumns) {\n        this.ensureColumnsValid();\n      } else {\n        this.ensureRowsValid();\n      }\n    }\n\n  }\n\n  ensureColumnsValid() {\n      let newStartSel = -1;\n      let newEndSel = -1;\n      let newTNumerator;\n      if (this.state.startSelector >= this.state.numCols) {\n        newStartSel = this.state.numCols - 1;\n      }\n      if (this.state.startSelector <= 0) {\n        newStartSel = 0;\n      }\n      if (this.state.endSelector >= this.state.numCols) {\n        newEndSel = this.state.numCols - 1;\n      }\n      if (this.state.endSelector <= 0) {\n        newEndSel = 0;\n      }\n      if (this.state.startSelector > this.state.endSelector) {\n        newEndSel = this.state.startSelector;\n      }\n\n      if (newStartSel === -1) {\n        newStartSel = this.state.startSelector;\n      }\n\n      if (newEndSel === -1) {\n        newEndSel = this.state.endSelector;\n      }\n\n      if (this.state.startSelector === 0) {\n        newTNumerator = -1;\n      } else {\n        newTNumerator = this.tCols[newStartSel - 1] * this.state.tDenominator;\n      }\n\n\n\n\n      this.setState({\n        startSelector: newStartSel,\n        endSelector: newEndSel,\n        tNumerator: newTNumerator\n      });\n      \n  }\n\n  ensureRowsValid() {\n    let newStartSel = -1;\n    let newEndSel = -1;\n    let newTNumerator;\n\n    if (this.state.startSelector >= this.state.numRows) {\n      newStartSel = this.state.numRows - 1;\n    }\n    if (this.state.startSelector <= 0) {\n      newStartSel = 0;\n    }\n    if (this.state.endSelector >= this.state.numRows) {\n      newEndSel = this.state.numRows - 1;\n    }\n    if (this.state.endSelector <= 0) {\n      newEndSel = 0;\n    }\n    if (this.state.startSelector > this.state.endSelector) {\n      newEndSel = this.state.startSelector;\n    }\n\n    if (newStartSel === -1) {\n      newStartSel = this.state.startSelector;\n    }\n\n    if (newEndSel === -1) {\n      newEndSel = this.state.endSelector;\n    }\n\n    if (this.state.startSelector === 0) {\n      newTNumerator = -1;\n    } else {\n      newTNumerator = this.tRows[newStartSel - 1] * this.state.tDenominator;\n    }\n\n    this.setState({\n      startSelector: newStartSel,\n      endSelector: newEndSel,\n      tNumerator: newTNumerator\n    });\n  }\n\n  handleColChange(event) {\n    if (event < 0) {\n      this.setState({numCols: 0});\n    }\n      this.setState({numCols: event})\n    let ret = [];\n    for (let i = 1; i < this.state.numCols; i++) {\n      ret.push(i/this.state.numCols);\n    }\n    this.setState({tCols: ret, numCols: event})\n  }\n\n  handleRowChange(event) {\n    if (event < 0) {\n        this.setState({numRows: 0});\n    }\n    let ret = [];\n    for (let i = 1; i < this.state.numRows; i++) {\n      ret.push(i/this.state.numRows);\n    }\n    this.setState({tRows: ret, numRows: event});\n  }\n\n  handleDimChange() {\n    if (this.state.useCustomDims){\n      this.setState({useCustomDims: false});\n    } else {\n      this.setState({useCustomDims: true});\n    }\n  }\n\n  handletNumChange(event) {\n    if (this.state.useCustomDims) {\n      let ret;\n      let diff;\n      if (this.state.useColumns) {\n        ret = this.state.tCols;\n        diff = (event / this.state.tDenominator) - this.state.tCols[this.state.startSelector - 1];\n\n        for (let i = this.state.startSelector; i <= this.state.endSelector; i++) {\n\n          ret[i - 1] += diff;\n        }\n        this.setState({tNumerator: event, tCols: ret}, () => {\n          this.ensureSelectorsValid();\n        });\n      } else {\n        ret = this.state.tRows;\n        diff = (event / this.state.tDenominator) - this.state.tRows[this.state.startSelector - 1];\n        for (let i = this.state.startSelector; i <= this.state.endSelector; i++) {\n\n          ret[i - 1] += diff;\n        }\n\n        this.setState({tNumerator: event, tRows: ret}, () => {\n          this.ensureSelectorsValid();\n        });\n      };\n      \n    };\n\n  }\n\n  handletDomChange(event) {\n    var newtNum = (this.state.tNumerator / this.state.tDenominator) * event\n    this.setState({tDenominator: event, tNumerator: newtNum});\n    this.ensureSelectorsValid();\n  }\n\n  handleStartSelChange(event) {\n\n    this.setState({startSelector: event}, () => {\n      this.ensureSelectorsValid();\n    });\n\n  }\n\n  handleEndSelChange(event) {\n    \n    this.setState({endSelector: event}, () => {\n      this.ensureSelectorsValid();\n    });\n\n  }\n\n  deleteRows() {\n\n    var numLines = this.state.endSelector - this.state.startSelector + 1;\n    var lst;\n    if (this.state.useColumns) {\n      lst = this.state.tCols;\n      var currNumCols = this.state.numCols;\n      lst.splice(this.state.startSelector - 1, numLines);\n      this.setState({tCols: lst, numCols: currNumCols - numLines, endSelector: this.state.startSelector},\n          () => {\n        this.ensureSelectorsValid()\n          });\n    } else {\n      lst = this.state.tRows;\n      var currNumRows = this.state.numRows;\n      lst.splice(this.state.startSelector - 1, numLines);\n      this.setState({tRows: lst, numRows: currNumRows - numLines, endSelector: this.state.startSelector},\n          () => {\n        this.ensureSelectorsValid()\n          });\n    }\n  }\n\n  handleDirectionChange() {\n\n      this.setState({\n        useColumns: !this.state.useColumns,\n        tNumerator: this.state.tRows[this.state.startSelector - 1] * this.state.tDenominator\n          },\n          () => {\n        this.ensureSelectorsValid()\n      });\n    \n  }\n\n  handleFileChange(event) {\n    console.log(\"lets gooo func up\");\n    this.setState({selectedFile: event});\n  }\n\n  async handleDatasetSubmit() {\n    // Create an object of formData\n    let reader = await new FileReader();\n\n\n    let formData = new FormData();\n    formData.append(\"selectedFile\", this.state.selectedFile, this.state.selectedFile.name);\n    formData.append(\"numCols\", this.state.numCols);\n    formData.append(\"numRows\", this.state.numRows);\n    formData.append(\"tRows\", this.state.tRows);\n    formData.append(\"tCols\", this.state.tCols);\n    formData.append(\"vertices\", this.state.vertices);\n    formData.append(\"username\", this.state.username);\n\n\n    axios.post(backendUrl, formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    })\n\n    console.log(formData);\n\n    const response = await axios.post(`${backendUrl}`, formData);\n    console.log(response);\n\n    downloadCsv(response.data.result)\n\n\n\n\n  }\n\n  appendVertex(vertex) {\n    let newVertices = this.state.vertices;\n    newVertices.push(vertex);\n    this.setState({vertices: newVertices})\n  }\n\n  render() {\n    //ensuring that they are the same at the start of the loop\n    \n    const layout = [\n      { i: \"photo\", x: 0, y: 0, w: 1, h: 5, static: true },\n      { i: \"title\", x: 1, y: 0, w: 1, h: 1, static: true },\n      { i: \"cols\", x: 1, y: 1, w: 1, h: 1, static: true },\n      { i: \"rows\", x: 1, y: 2, w: 1, h: 1, static: true },\n      { i: \"gridDimToggle\", x: 1, y: 3, w: 1, h: 3, static: true },\n      { i: \"tValDisplay\", x: 1, y: 6, w: 1, h: 3, static: true },\n      { i: \"colOrRow\", x: 1, y: 9, w: 1, h: 3, static: true },\n      { i: \"descriptor\", x: 1, y: 12, w: 1, h: 2, static: true },\n      { i: \"startSelector\", x: 1, y: 14, w: 1, h: 1, static: true },\n      { i: \"endSelector\", x: 1, y: 15, w: 1, h: 1, static: true },\n      { i: \"tModifier\", x: 1, y: 16, w: 1, h: 1, static: true },\n      { i: \"rowDeleteButton\", x: 1, y: 17, w: 1, h: 1, static: true },\n      { i: \"fileChoiceButton\", x: 1, y: 18, w: 1, h: 1, static: true },\n      { i: \"fileSubmitButton\", x: 1, y: 20, w: 1, h: 1, static: true }\n      \n    ];\n    if (!this.state.useCustomDims) {\n      this.setUniformTCols();\n      this.setUniformTRows();\n    } else {\n      this.tRows = this.state.tRows;\n      this.tCols = this.state.tCols;\n    }\n    console.log(this.state.selectedFile)\n    \n    this.photo = <Photo numCols={this.state.numCols} numRows={this.state.numRows}\n                    tCols={this.tCols} tRows={this.tRows}\n                    startSelector={this.state.startSelector} endSelector={this.state.endSelector}\n                    useColumns={this.state.useColumns} selectedPhoto={this.state.selectedFile}\n                    vertexChange = {this.appendVertex}/>;\n\n    return (<article>\n      <GridLayout\n        className=\"layout\"\n        layout={layout}\n        cols={2}\n        rowHeight={30}\n        width={2300}\n      >\n        <div key=\"photo\">\n          <ReactCursorPosition>\n            {this.photo}\n          </ReactCursorPosition>\n        </div>\n        <div key=\"title\">\n          Table Scanner -> Super Fun\n        </div>\n        <div key=\"cols\">\n          <label>\n            # Columns:\n            <NumericInput precision={0} value={this.state.numCols} step={1} onChange={this.handleColChange}/>\n          </label>\n        </div> \n        <div key=\"rows\">\n          <label>\n            # Rows:\n            <NumericInput precision={0} value={this.state.numRows} step={1} onChange={this.handleRowChange}/>\n          </label>\n        </div>\n\n        <div key=\"gridDimToggle\">\n          <Toggle\n              id='dimToggle'\n              defaultChecked={this.state.useCustomDims}\n              onChange={this.handleDimChange} />\n            <label htmlFor='dimToggle'>Use Custom Grid Dimensions</label>\n        </div>\n        <div key=\"tValDisplay\">\n            Column t values:<br/>\n            {JSON.stringify(this.tCols.map(x => x.toPrecision(3)))}<br/>\n            Row t values:<br/>\n            {JSON.stringify(this.tRows.map(x => x.toPrecision(3)))}\n        </div>\n        <div key=\"colOrRow\">\n          <Toggle\n              id='colToggle'\n              defaultChecked={this.state.useColumns}\n              onChange={this.handleDirectionChange} />\n            <label htmlFor='colToggle'>Move Column/ Columns (otherwise moving rows)</label>\n        </div>\n        <div key=\"descriptor\">\n          <label>\n            Row/ Column Numbers start from either top \n            <br/> \n            or left not including the outside boundaries.\n            <br/>\n            (first line inside is 1)\n          </label>\n        </div>\n        <div key=\"startSelector\">\n          <label>\n            Row/ Column Number Min:\n            <NumericInput precision={0} value={this.state.startSelector} step={1} onChange={this.handleStartSelChange}/>\n          </label>\n        </div>\n        <div key=\"endSelector\">\n          <label>\n            Row/ Column Number Max:\n            <NumericInput precision={0} value={this.state.endSelector} step={1} onChange={this.handleEndSelChange}/>\n          </label>\n        </div>\n        <div key=\"tModifier\">\n          <label>\n            t = \n            <NumericInput precision={0} value={this.state.tNumerator} step={1} onChange={this.handletNumChange}/>\n             / \n            <NumericInput precision={0} value={this.state.tDenominator} step={1} onChange={this.handletDomChange}/>\n          </label>\n        </div>\n        <div key=\"rowDeleteButton\">\n          <label>\n            <button onClick={this.deleteRows}>\n              Delete Selected Rows\n            </button>\n          </label>\n        </div>\n        <div key=\"fileChoiceButton\">\n          <label>\n            <FileUploader component={this} />\n\n          </label>\n        </div>\n        <div key=\"fileSubmitButton\">\n          <button onClick={this.handleDatasetSubmit}>\n              Submit and Download Data\n          </button>\n        </div>\n      </GridLayout>\n      \n    </article>);\n    \n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}