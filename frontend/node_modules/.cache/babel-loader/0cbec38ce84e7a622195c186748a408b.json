{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _ReactGridLayoutPropTypes = require(\"./ReactGridLayoutPropTypes\");\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * An individual item within a ReactGridLayout.\n */\n\n\nvar GridItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  var _super = _createSuper(GridItem);\n\n  function GridItem() {\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"elementRef\", /*#__PURE__*/_react.default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, _ref) {\n      var node = _ref.node;\n      var _this$props = _this.props,\n          onDragStart = _this$props.onDragStart,\n          transformScale = _this$props.transformScale;\n      if (!onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / transformScale;\n      var pLeft = parentRect.left / transformScale;\n      var cTop = clientRect.top / transformScale;\n      var pTop = parentRect.top / transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      return onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      var onDrag = _this.props.onDrag;\n      if (!onDrag) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDrag called before onDragStart.\");\n      }\n\n      var top = _this.state.dragging.top + deltaY;\n      var left = _this.state.dragging.left + deltaX;\n      var _this$props2 = _this.props,\n          isBounded = _this$props2.isBounded,\n          i = _this$props2.i,\n          w = _this$props2.w,\n          h = _this$props2.h,\n          containerWidth = _this$props2.containerWidth;\n\n      var positionParams = _this.getPositionParams(); // Boundary calculations; keeps items within the grid\n\n\n      if (isBounded) {\n        var offsetParent = node.offsetParent;\n\n        if (offsetParent) {\n          var _this$props3 = _this.props,\n              margin = _this$props3.margin,\n              rowHeight = _this$props3.rowHeight;\n          var bottomBoundary = offsetParent.clientHeight - (0, _calculateUtils.calcGridItemWHPx)(h, rowHeight, margin[1]);\n          top = (0, _calculateUtils.clamp)(top, 0, bottomBoundary);\n          var colWidth = (0, _calculateUtils.calcGridColWidth)(positionParams);\n          var rightBoundary = containerWidth - (0, _calculateUtils.calcGridItemWHPx)(w, colWidth, margin[0]);\n          left = (0, _calculateUtils.clamp)(left, 0, rightBoundary);\n        }\n      }\n\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY2 = (0, _calculateUtils.calcXY)(positionParams, top, left, w, h),\n          x = _calcXY2.x,\n          y = _calcXY2.y;\n\n      return onDrag.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, _ref3) {\n      var node = _ref3.node;\n      var onDragStop = _this.props.onDragStop;\n      if (!onDragStop) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDragEnd called before onDragStart.\");\n      }\n\n      var _this$props4 = _this.props,\n          w = _this$props4.w,\n          h = _this$props4.h,\n          i = _this$props4.i;\n      var _this$state$dragging = _this.state.dragging,\n          left = _this$state$dragging.left,\n          top = _this$state$dragging.top;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), top, left, w, h),\n          x = _calcXY3.x,\n          y = _calcXY3.y;\n\n      return onDragStop.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    )\n    /*: boolean*/\n    {\n      // We can't deeply compare children. If the developer memoizes them, we can\n      // use this optimization.\n      if (this.props.children !== nextProps.children) return true;\n      if (this.props.droppingPosition !== nextProps.droppingPosition) return true; // TODO memoize these calculations so they don't take so long?\n\n      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.moveDroppingItem({});\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      this.moveDroppingItem(prevProps);\n    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n    // this element by `x, y` pixels.\n\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      if (!droppingPosition) return;\n      var node = this.elementRef.current; // Can't find DOM node (are we unmounted?)\n\n      if (!node) return;\n      var prevDroppingPosition = prevProps.droppingPosition || {\n        left: 0,\n        top: 0\n      };\n      var dragging = this.state.dragging;\n      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: node,\n          deltaX: droppingPosition.left,\n          deltaY: droppingPosition.top\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.left - dragging.left;\n        var deltaY = droppingPosition.top - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: node,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    }\n  }, {\n    key: \"getPositionParams\",\n    value: function getPositionParams()\n    /*: PositionParams*/\n    {\n      var props\n      /*: Props*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return {\n        cols: props.cols,\n        containerPadding: props.containerPadding,\n        containerWidth: props.containerWidth,\n        margin: props.margin,\n        maxRows: props.maxRows,\n        rowHeight: props.rowHeight\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props5 = this.props,\n          usePercentages = _this$props5.usePercentages,\n          containerWidth = _this$props5.containerWidth,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    , isDraggable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, {\n        disabled: !isDraggable,\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale,\n        nodeRef: this.elementRef\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    , isResizable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props6 = this.props,\n          cols = _this$props6.cols,\n          x = _this$props6.x,\n          minW = _this$props6.minW,\n          minH = _this$props6.minH,\n          maxW = _this$props6.maxW,\n          maxH = _this$props6.maxH,\n          transformScale = _this$props6.transformScale,\n          resizeHandles = _this$props6.resizeHandles,\n          resizeHandle = _this$props6.resizeHandle;\n      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return /*#__PURE__*/_react.default.createElement(_reactResizable.Resizable // These are opts for the resize handle itself\n      , {\n        draggableOpts: {\n          disabled: !isResizable\n        },\n        className: isResizable ? undefined : \"react-resizable-hide\",\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        transformScale: transformScale,\n        resizeHandles: resizeHandles,\n        handle: resizeHandle\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n    value:\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    function onResizeHandler(e\n    /*: Event*/\n    , _ref4, handlerName\n    /*: string*/\n    )\n    /*: void*/\n    {\n      var node = _ref4.node,\n          size = _ref4.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props7 = this.props,\n          cols = _this$props7.cols,\n          x = _this$props7.x,\n          y = _this$props7.y,\n          i = _this$props7.i,\n          maxH = _this$props7.maxH,\n          minH = _this$props7.minH;\n      var _this$props8 = this.props,\n          minW = _this$props8.minW,\n          maxW = _this$props8.maxW; // Get new XY\n\n      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),\n          w = _calcWH.w,\n          h = _calcWH.h; // minW should be at least 1 (TODO propTypes validation?)\n\n\n      minW = Math.max(minW, 1); // maxW should be at most (cols - x)\n\n      maxW = Math.min(maxW, cols - x); // Min/max capping\n\n      w = (0, _calculateUtils.clamp)(w, minW, maxW);\n      h = (0, _calculateUtils.clamp)(h, minH, maxH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props9 = this.props,\n          x = _this$props9.x,\n          y = _this$props9.y,\n          w = _this$props9.w,\n          h = _this$props9.h,\n          isDraggable = _this$props9.isDraggable,\n          isResizable = _this$props9.isResizable,\n          droppingPosition = _this$props9.droppingPosition,\n          useCSSTransforms = _this$props9.useCSSTransforms;\n      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = /*#__PURE__*/_react.default.cloneElement(child, {\n        ref: this.elementRef,\n        className: (0, _clsx.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread(_objectSpread(_objectSpread({}, this.props.style), child.props.style), this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.\n\n      newChild = this.mixinDraggable(newChild, isDraggable);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Resize handle options\n  resizeHandles: _ReactGridLayoutPropTypes.resizeHandleAxesType,\n  resizeHandle: _ReactGridLayoutPropTypes.resizeHandleType,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  isBounded: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});","map":{"version":3,"sources":["/Users/jakemartin/Documents/table-scanner-fullstack/frontend/node_modules/react-grid-layout/build/GridItem.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_propTypes","_reactDraggable","_reactResizable","_utils","_calculateUtils","_ReactGridLayoutPropTypes","_clsx","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","GridItem","_React$Component","_super","_this","_len","args","Array","_key","concat","resizing","dragging","className","createRef","_ref","node","_this$props","onDragStart","transformScale","newPosition","top","left","offsetParent","parentRect","getBoundingClientRect","clientRect","cLeft","pLeft","cTop","pTop","scrollLeft","scrollTop","setState","_calcXY","calcXY","getPositionParams","w","h","x","y","_ref2","deltaX","deltaY","onDrag","state","Error","_this$props2","isBounded","containerWidth","positionParams","_this$props3","margin","rowHeight","bottomBoundary","clientHeight","calcGridItemWHPx","clamp","colWidth","calcGridColWidth","rightBoundary","_calcXY2","_ref3","onDragStop","_this$props4","_this$state$dragging","_calcXY3","callbackData","onResizeHandler","shouldComponentUpdate","nextProps","nextState","children","droppingPosition","oldPosition","calcGridItemPosition","fastPositionEqual","useCSSTransforms","componentDidMount","moveDroppingItem","componentDidUpdate","prevProps","elementRef","current","prevDroppingPosition","shouldDrag","undefined","cols","containerPadding","maxRows","createStyle","pos","_this$props5","usePercentages","style","setTransform","setTopLeft","perc","width","mixinDraggable","child","isDraggable","createElement","DraggableCore","disabled","onStart","onStop","handle","cancel","scale","nodeRef","mixinResizable","position","isResizable","_this$props6","minW","minH","maxW","maxH","resizeHandles","resizeHandle","maxWidth","mins","maxes","minConstraints","height","maxConstraints","Math","min","Infinity","Resizable","draggableOpts","onResizeStop","onResizeStart","onResize","_ref4","handlerName","size","handler","_this$props7","_this$props8","_calcWH","calcWH","max","render","_this$props9","Children","only","newChild","cloneElement","ref","static","dropping","cssTransforms","Component","element","number","isRequired","array","propName","string","resizeHandleAxesType","resizeHandleType","func","bool","shape"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _ReactGridLayoutPropTypes = require(\"./ReactGridLayoutPropTypes\");\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * An individual item within a ReactGridLayout.\n */\nvar GridItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  var _super = _createSuper(GridItem);\n\n  function GridItem() {\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"elementRef\", /*#__PURE__*/_react.default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, _ref) {\n      var node = _ref.node;\n      var _this$props = _this.props,\n          onDragStart = _this$props.onDragStart,\n          transformScale = _this$props.transformScale;\n      if (!onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / transformScale;\n      var pLeft = parentRect.left / transformScale;\n      var cTop = clientRect.top / transformScale;\n      var pTop = parentRect.top / transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      return onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      var onDrag = _this.props.onDrag;\n      if (!onDrag) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDrag called before onDragStart.\");\n      }\n\n      var top = _this.state.dragging.top + deltaY;\n      var left = _this.state.dragging.left + deltaX;\n      var _this$props2 = _this.props,\n          isBounded = _this$props2.isBounded,\n          i = _this$props2.i,\n          w = _this$props2.w,\n          h = _this$props2.h,\n          containerWidth = _this$props2.containerWidth;\n\n      var positionParams = _this.getPositionParams(); // Boundary calculations; keeps items within the grid\n\n\n      if (isBounded) {\n        var offsetParent = node.offsetParent;\n\n        if (offsetParent) {\n          var _this$props3 = _this.props,\n              margin = _this$props3.margin,\n              rowHeight = _this$props3.rowHeight;\n          var bottomBoundary = offsetParent.clientHeight - (0, _calculateUtils.calcGridItemWHPx)(h, rowHeight, margin[1]);\n          top = (0, _calculateUtils.clamp)(top, 0, bottomBoundary);\n          var colWidth = (0, _calculateUtils.calcGridColWidth)(positionParams);\n          var rightBoundary = containerWidth - (0, _calculateUtils.calcGridItemWHPx)(w, colWidth, margin[0]);\n          left = (0, _calculateUtils.clamp)(left, 0, rightBoundary);\n        }\n      }\n\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: newPosition\n      }); // Call callback with this data\n\n\n      var _calcXY2 = (0, _calculateUtils.calcXY)(positionParams, top, left, w, h),\n          x = _calcXY2.x,\n          y = _calcXY2.y;\n\n      return onDrag.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, _ref3) {\n      var node = _ref3.node;\n      var onDragStop = _this.props.onDragStop;\n      if (!onDragStop) return;\n\n      if (!_this.state.dragging) {\n        throw new Error(\"onDragEnd called before onDragStart.\");\n      }\n\n      var _this$props4 = _this.props,\n          w = _this$props4.w,\n          h = _this$props4.h,\n          i = _this$props4.i;\n      var _this$state$dragging = _this.state.dragging,\n          left = _this$state$dragging.left,\n          top = _this$state$dragging.top;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: top,\n        left: left\n      };\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), top, left, w, h),\n          x = _calcXY3.x,\n          y = _calcXY3.y;\n\n      return onDragStop.call(_assertThisInitialized(_this), i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e, callbackData) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    )\n    /*: boolean*/\n    {\n      // We can't deeply compare children. If the developer memoizes them, we can\n      // use this optimization.\n      if (this.props.children !== nextProps.children) return true;\n      if (this.props.droppingPosition !== nextProps.droppingPosition) return true; // TODO memoize these calculations so they don't take so long?\n\n      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.moveDroppingItem({});\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      this.moveDroppingItem(prevProps);\n    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n    // this element by `x, y` pixels.\n\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      if (!droppingPosition) return;\n      var node = this.elementRef.current; // Can't find DOM node (are we unmounted?)\n\n      if (!node) return;\n      var prevDroppingPosition = prevProps.droppingPosition || {\n        left: 0,\n        top: 0\n      };\n      var dragging = this.state.dragging;\n      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: node,\n          deltaX: droppingPosition.left,\n          deltaY: droppingPosition.top\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.left - dragging.left;\n        var deltaY = droppingPosition.top - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: node,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    }\n  }, {\n    key: \"getPositionParams\",\n    value: function getPositionParams()\n    /*: PositionParams*/\n    {\n      var props\n      /*: Props*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return {\n        cols: props.cols,\n        containerPadding: props.containerPadding,\n        containerWidth: props.containerWidth,\n        margin: props.margin,\n        maxRows: props.maxRows,\n        rowHeight: props.rowHeight\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props5 = this.props,\n          usePercentages = _this$props5.usePercentages,\n          containerWidth = _this$props5.containerWidth,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    , isDraggable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, {\n        disabled: !isDraggable,\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale,\n        nodeRef: this.elementRef\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    , isResizable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props6 = this.props,\n          cols = _this$props6.cols,\n          x = _this$props6.x,\n          minW = _this$props6.minW,\n          minH = _this$props6.minH,\n          maxW = _this$props6.maxW,\n          maxH = _this$props6.maxH,\n          transformScale = _this$props6.transformScale,\n          resizeHandles = _this$props6.resizeHandles,\n          resizeHandle = _this$props6.resizeHandle;\n      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return /*#__PURE__*/_react.default.createElement(_reactResizable.Resizable // These are opts for the resize handle itself\n      , {\n        draggableOpts: {\n          disabled: !isResizable\n        },\n        className: isResizable ? undefined : \"react-resizable-hide\",\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        transformScale: transformScale,\n        resizeHandles: resizeHandles,\n        handle: resizeHandle\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n    value:\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    function onResizeHandler(e\n    /*: Event*/\n    , _ref4, handlerName\n    /*: string*/\n    )\n    /*: void*/\n    {\n      var node = _ref4.node,\n          size = _ref4.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props7 = this.props,\n          cols = _this$props7.cols,\n          x = _this$props7.x,\n          y = _this$props7.y,\n          i = _this$props7.i,\n          maxH = _this$props7.maxH,\n          minH = _this$props7.minH;\n      var _this$props8 = this.props,\n          minW = _this$props8.minW,\n          maxW = _this$props8.maxW; // Get new XY\n\n      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),\n          w = _calcWH.w,\n          h = _calcWH.h; // minW should be at least 1 (TODO propTypes validation?)\n\n\n      minW = Math.max(minW, 1); // maxW should be at most (cols - x)\n\n      maxW = Math.min(maxW, cols - x); // Min/max capping\n\n      w = (0, _calculateUtils.clamp)(w, minW, maxW);\n      h = (0, _calculateUtils.clamp)(h, minH, maxH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props9 = this.props,\n          x = _this$props9.x,\n          y = _this$props9.y,\n          w = _this$props9.w,\n          h = _this$props9.h,\n          isDraggable = _this$props9.isDraggable,\n          isResizable = _this$props9.isResizable,\n          droppingPosition = _this$props9.droppingPosition,\n          useCSSTransforms = _this$props9.useCSSTransforms;\n      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = /*#__PURE__*/_react.default.cloneElement(child, {\n        ref: this.elementRef,\n        className: (0, _clsx.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread(_objectSpread(_objectSpread({}, this.props.style), child.props.style), this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.\n\n      newChild = this.mixinDraggable(newChild, isDraggable);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Resize handle options\n  resizeHandles: _ReactGridLayoutPropTypes.resizeHandleAxesType,\n  resizeHandle: _ReactGridLayoutPropTypes.resizeHandleType,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  isBounded: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});"]},"metadata":{},"sourceType":"script"}